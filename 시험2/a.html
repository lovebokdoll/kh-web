<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>회원가입양식</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
</head>
<body>
  <fieldset style="width: 400px; height: 200">
    <legend>회원가입 양식</legend>
    <form name="회원가입 양식" action="insert.no" method="post">
      <span>아이디</span>
      <input id="mem_id" type="text" />
     <button id="idCheck" type="button">중복확인</button> 
      <br />

      <span>비밀번호</span>
      <input id="mem_pw" type="text"/>
      <br /> 

      <span>비밀번호 확인</span>
      <input id="pw_check" type="text" />
      <br />

      <span>지역</span>
      서울 <input class="loc" type="radio" name="local" value="서울" />
      부산 <input class="loc" type="radio" name="local"value="부산" />
      대구<input class="loc" type="radio" name="local"value="대구" /><br />
      <input id="initial " type="reset" value="초기화" />
      <button id="join_button" type="button" >회원가입</button>
    </form>

    <script>

      //아이디 중복확인
      const mem_id = document.querySelector("#mem_id")
      const btn = document.querySelector("#idCheck")
      const reg = /^[a-z][a-z0-9!@#]{6,12}$/;
      btn.addEventListener("click",()=>{
      if(!reg.test(mem_id.value)){
        mem_id.style.backgroundColor = "red";
      }else{
        mem_id.style.backgroundColor = "green";
      }
      })


      //회원가입
      const join_button = document.querySelector("#join_button")
      join_button.addEventListener("click",()=>{
        const loc= document.querySelectorAll(".loc")
        let locationSelected = false;
       loc.forEach((locSelect)=>{
      if(locSelect.checked){
        locationSelected = true
        alert("가입성공!")
        }      
      })

        if(!locationSelected){
       // locationSelected = false;
        event.preventDefault()
        alert("지역 선택해")
      }
    })
  </script>
</body>
</html>