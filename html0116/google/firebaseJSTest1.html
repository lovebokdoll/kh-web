<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>구글로그인 -[모듈화 사용:type="module"]</title>
  </head>
  <body>
    <!-- 
type = text/javascript사용하는 경우와 module사용하는 경우 호환이 안되는 부분 발생
   -->
    <!-- ECMAScript6기준으로 작업하는가? WWW CommonJS기준으로 작업한느다 -->
    <script type="module">
      import { firebaseApp } from "../service/firebase.js";
      import AuthLogic from "../service/authLogic.js";
      const authLogic = new AuthLogic();
      console.log(authLogic);
      const btnGoogle = document.querySelector("#btnGoogle");
      btnGoogle.addEventListener("click", (event) => {
        /* button태그 사용시에 디폴트 타입이 submit이여서 폼 전송이 일어나게 되며
        이럴경우 해당 페이지가 리프레쉬됨에따라 이상동작이 발생하므로 반드시
        button태그로 click이벤트 처리시에는 주의할것  */
        event.preventDefault();
        //console.log(e.target + e.currentTarget);
        authLogic.login("Google").then((snapshot) => {
          console.log(snapshot);
        });
      });
      //btnGoogle.onclick;
      // onclick 함수는 버튼이 마지막껄로 쓰여서 사용하지 않음
    </script>
    <button id="btnGoogle">구글로그인</button>
  </body>
</html>
