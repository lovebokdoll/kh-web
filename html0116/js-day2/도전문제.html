<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>도전문제 -[구조분해,spread연산]</title>
  </head>
  <body>
    <script type="text/javascript">
      let items = [
        { id: 1, name: "벤치프레스", count: 10 },
        { id: 2, name: "랫풀다운", count: 12 },
        { id: 3, name: "스쿼트", count: 30 },
      ];
      //조회하기 -forEach함수 -1번
      document.write("<div>");
      document.write("<table border ='1' borderColor='green'>");
      items.forEach((item) => {
        document.write("<tr>");
        document.write(`<td>${item.id}</td>`);
        document.write(`<td>${item.name}</td>`);
        document.write(`<td>${item.count}</td>`);
      });
      document.write("</table>");
      document.write("</div>");
      //추가하기 -전개연산자 -2번
      //배열만 있을때 / 객체만 있을떄 / 배열안에 객체가 있을 때
      let items_copy = [...items, { id: 5, name: "레그프레스", count: 20 }];
      document.write("<div>");
      document.write("<table border ='1' borderColor='red'>");
      items_copy.forEach((item) => {
        document.write("<tr>");
        document.write(`<td>${item.id}</td>`);
        document.write(`<td>${item.name}</td>`);
        document.write(`<td>${item.count}</td>`);
      });
      document.write("</table>");
      document.write("</div>");

      //삭제하기 - filter함수 -3번

      let result = -1;
      // result = window.prompt("삭제하고자 하는 id를 입력하세요.");
      //  alert("사용자가 선택한 아이디는 " + result + "입니다");

      let newItems = items.filter((row) => row.id !== parseInt(result));
      document.write("<div>");
      document.write("<table border ='1' borderColor='red'>");
      newItems.forEach((item) => {
        document.write("<tr>");
        document.write(`<td>${item.id}</td>`);
        document.write(`<td>${item.name}</td>`);
        document.write(`<td>${item.count}</td>`);
        document.write("<tr>");
      });
      document.write("</table>");
      document.write("</div>");

      //수정하기 - 추가하기 동일하게 처리 -4번
      let x = [...items];
      result = window.prompt("수정하고자 하는 id를 입력하세요.");
      x.forEach((item) => {
        if (item.id === parseInt(result)) {
          x = items.filter((item) => item.id !== parseInt(result));
          x = [
            ...x,
            { id: `${parseInt(result)}`, name: "덤벨프레스", count: 15 },
          ];
        }
      });
    </script>
  </body>
</html>
